<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  </meta>
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  </meta>
  <script src="./dplayer.js">
  </script>
  <script src="https://static.ygrhhospital.com/health-platform/client/app/vue.min.js"></script>
  <meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    name="viewport">
  </meta>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
  </style>

</head>

<body>
  <div class="dplayer-wrap" id="dplayer-wrap">
    <div class="dplayer"></div>
  </div>
  <script>
    // window.onload = function () {
    //     // 初始化
    //     // var baseUrl = window.location.origin;
    //     function getQueryString(name) {
    //         var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
    //         var r = window.location.search.substr(1).match(reg);
    //         if (r != null) return unescape(r[2]);
    //         return null;
    //     }
    // }
    // co
    new Vue({
      el: 'dplayer-wrap',
      props: {
        immediate: {
          type: Boolean,
          default: true,
        },
        options: {
          type: Object,
          default: () => ({
            autoplay: true,
            theme: '#FADFA3',
            loop: true,
            lang: 'zh-cn',
            hotkey: true,
            preload: 'auto',
            // logo: 'https://i.loli.net/2019/06/06/5cf8c5d94521136430.png',
            volume: 0.7,
            mutex: true,
            screenshot: false,
            // subtitle: {
            //   url: 'https://s-sh-17-dplayercdn.oss.dogecdn.com/hikarunara.vtt',
            //   type: 'webvtt',
            //   fontSize: '20px',
            //   bottom: '10%',
            //   color: '#FADFA3'
            // },
            video: {
              url: 'https://api.dogecloud.com/player/get.mp4?vcode=5ac682e6f8231991&userId=17&ext=.mp4',
              pic: 'https://i.loli.net/2019/06/06/5cf8c5d9c57b510947.png',
              thumbnails: 'https://i.loli.net/2019/06/06/5cf8c5d9cec8510758.jpg',
              type: 'auto'
            },
            // danmaku: {
            //   id: '9E2E3368B56CDBB4',
            //   api: 'https://api.prprpr.me/dplayer/',
            //   token: 'tokendemo',
            //   user: 'DIYgod',
            //   addition: ['https://s-sh-17-dplayercdn.oss.dogecdn.com/1678963.json']
            // },
            // contextmenu: [
            //   {
            //     text: 'custom1',
            //     link: 'https://github.com/DIYgod/DPlayer'
            //   },
            //   {
            //     text: 'custom2',
            //     click: (player) => {
            //       console.log(player);
            //     }
            //   }
            // ],
            // highlight: [
            //   {
            //     time: 20,
            //     text: '这是第 20 秒'
            //   },
            //   {
            //     time: 120,
            //     text: '这是 2 分钟'
            //   }
            // ]
          })
        },
      },
      methods: {
      },
      mounted: function () {
        if (this.immediate) {
          this.dplayer = new window.DPlayer(this.options);
        }
      },
      beforeDestroy: function () {
        this.dplayer && this.dplayer.destroy();
      }

    })
  </script>
</body>

</html>